{% extends 'base.html' %}

{% block title %}Home{% endblock title %}

{% block content %}

{% with messages = get_flashed_messages() %}
{% if messages %}

{% for message in messages  %}

<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

{% endfor %}

{% endif %}
{% endwith %}

{% if session['Logged_in'] %}
<h1>sign in successful</h1>

{% else %}
<h1>please sign in</h1>
{% endif %}

{% for post in posts %}
<article class="media content-section">
    <div class="media-body">
        <div class="article-metadata">
            <a class="mr-2" href="#">{{ post.name }}</a>
            <small class="text-muted">{{ post.date_published.strftime("%c")}}</small>
        </div>
        <h2><a class="article-title" href="#">{{ post.title }}</a></h2>
        <p class="article-content">{{ post.body|safe }}</p>
    </div>
</article>
{% endfor %}


{% endblock content %}